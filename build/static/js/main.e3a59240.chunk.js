(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(14),r=t.n(c),a=t(3),o=t(1),u=t(0),i=function(e){var n=e.entry,t=e.id,c=e.handleDelete;return Object(u.jsx)("div",{children:Object(u.jsxs)("li",{children:[n.name," ",n.number,Object(u.jsx)("button",{onClick:function(){return c(n.id,n.name)},children:"delete"})]},t)})},d=function(e){var n=e.phonebook,t=e.handleDelete;return Object(u.jsx)("div",{children:Object(u.jsx)("ul",{children:n.map((function(e){return Object(u.jsx)(i,{entry:e,handleDelete:t},e.id)}))})})},l=function(e){return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:e.addInformation,children:[Object(u.jsxs)("div",{children:[" name: ",Object(u.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(u.jsxs)("div",{children:[" number: ",Object(u.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})," "]}),Object(u.jsx)("button",{type:"submit",children:"add"})]})})},s=function(e){return Object(u.jsxs)("div",{children:[" filter shown with ",Object(u.jsx)("input",{value:e.newFilter,onChange:e.handleFilterChange})]})},j=t(15),b=t(4),h=t.n(b),f="/api/persons",m={getAll:function(){return h.a.get(f).then((function(e){return e.data}))},create:function(e){return h.a.post(f,e).then((function(e){return e.data}))},deleteEntry:function(e){return h.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},update:function(e,n){return h.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))}},O=function(e){return null===e.message?null:!1===e.type?Object(u.jsx)("div",{className:"error",children:e.message}):Object(u.jsx)("div",{className:"FourError",children:e.message})},v=function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(""),i=Object(a.a)(r,2),b=i[0],h=i[1],f=Object(o.useState)(""),v=Object(a.a)(f,2),p=v[0],x=v[1],g=Object(o.useState)(""),w=Object(a.a)(g,2),C=w[0],N=w[1],y=Object(o.useState)(null),k=Object(a.a)(y,2),S=k[0],D=k[1],E=Object(o.useState)(0),F=Object(a.a)(E,2),I=F[0],A=F[1],J=t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}));Object(o.useEffect)((function(){m.getAll().then((function(e){c(e)}))}),[]);var L=function(e,n){D(e),A(n),setTimeout((function(){D(null),A(null)}),2e3)},B=function(e){window.confirm(b+" is already added to phonebook, replace the old number with a new one?")&&(e.number=p,m.update(e.id,e).then((function(e){L("Changed ".concat(b),!1),c(t.map((function(n){return n.id===e.id?e:n})))})).catch((function(e){return L("Information of ".concat(b," has already been removed from the server"),!0)})))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Phonebook"}),Object(u.jsx)(O,{message:S,type:I}),Object(u.jsx)(s,{value:C,handleFilterChange:function(e){N(e.target.value)}}),Object(u.jsx)("h1",{children:"add a new"}),Object(u.jsx)(l,{newName:b,newNumber:p,handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){x(e.target.value)},addInformation:function(e){e.preventDefault();var n=t.find((function(e){return e.name===b}));if(void 0===n){var r={name:b,number:p,id:Object(j.a)()};m.create(r).then((function(e){L("Added ".concat(b),!1),c(t.concat(e)),x(""),h("")}))}else B(n)}}),Object(u.jsx)("h1",{children:"Numbers"}),Object(u.jsx)(d,{phonebook:J,handleDelete:function(e,n){window.confirm("Delete ".concat(n,"?"))&&(m.deleteEntry(e),c(t.filter((function(n){return e!==n.id}))))}})]})};t(39);r.a.render(Object(u.jsx)(v,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e3a59240.chunk.js.map